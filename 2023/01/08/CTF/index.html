

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="rarekiwi">
  <meta name="keywords" content="C++ Linux hardware">
  
    <meta name="description" content="Cookie和Session 因为HTTP协议是没有状态的，使用C和S可以保存用户信息 Cookie  存放在客户端浏览器，每个域名下上限50个，每个最大分配空间4K 只能存字符串类型数据 因保存在浏览器，易被提取 服务器发送给浏览器并保存至本地 在下一次请求同一个服务端时会带上之前的cookie，用于告知服务器两次请求是否同属一个浏览器   Session  服务器与客户端一次对话 存储特定用户">
<meta property="og:type" content="article">
<meta property="og:title" content="CTF">
<meta property="og:url" content="http://example.com/2023/01/08/CTF/index.html">
<meta property="og:site_name" content="Pool of Things">
<meta property="og:description" content="Cookie和Session 因为HTTP协议是没有状态的，使用C和S可以保存用户信息 Cookie  存放在客户端浏览器，每个域名下上限50个，每个最大分配空间4K 只能存字符串类型数据 因保存在浏览器，易被提取 服务器发送给浏览器并保存至本地 在下一次请求同一个服务端时会带上之前的cookie，用于告知服务器两次请求是否同属一个浏览器   Session  服务器与客户端一次对话 存储特定用户">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:\Users\%E8%B5%B5%E5%9B%9B\AppData\Roaming\Typora\typora-user-images\image-20220228203313570.png">
<meta property="og:image" content="c:\Users\%E8%B5%B5%E5%9B%9B\AppData\Roaming\Typora\typora-user-images\image-20220307141839819.png">
<meta property="og:image" content="c:\Users\%E8%B5%B5%E5%9B%9B\AppData\Roaming\Typora\typora-user-images\image-20220326172616950.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201009142512180.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xhZHlfa2lsbGVyOQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="c:\Users\%E8%B5%B5%E5%9B%9B\AppData\Roaming\Typora\typora-user-images\image-20220423200727079.png">
<meta property="article:published_time" content="2023-01-08T12:26:14.000Z">
<meta property="article:modified_time" content="2023-01-09T05:18:13.244Z">
<meta property="article:author" content="rarekiwi">
<meta property="article:tag" content="C++ Linux hardware">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="c:\Users\%E8%B5%B5%E5%9B%9B\AppData\Roaming\Typora\typora-user-images\image-20220228203313570.png">
  
  
  
  <title>CTF - Pool of Things</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="CTF"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-01-08 20:26" pubdate>
          January 8, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          67 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">CTF</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="Cookie和Session"><a href="#Cookie和Session" class="headerlink" title="Cookie和Session"></a>Cookie和Session</h1><blockquote>
<p>因为HTTP协议是没有状态的，使用C和S可以保存用户信息</p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><blockquote>
<ul>
<li>存放在客户端浏览器，每个域名下上限50个，每个最大分配空间4K</li>
<li>只能存字符串类型数据</li>
<li>因保存在浏览器，易被提取</li>
<li>服务器发送给浏览器并保存至本地</li>
<li>在下一次请求同一个服务端时会带上之前的cookie，用于告知服务器两次请求是否同属一个浏览器</li>
</ul>
</blockquote>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><blockquote>
<ul>
<li>服务器与客户端一次对话</li>
<li>存储特定用户对话所需属性及配置信息，直到关闭客户端或session失效</li>
<li>存放在服务器端，无存储限制</li>
<li>任意类型数据</li>
<li>较安全</li>
</ul>
</blockquote>
<h2 id="二者比较"><a href="#二者比较" class="headerlink" title="二者比较"></a>二者比较</h2><table>
<thead>
<tr>
<th></th>
<th>Cookie</th>
<th>Session</th>
</tr>
</thead>
<tbody><tr>
<td>作用方式</td>
<td>保存在浏览器</td>
<td>保存在服务器</td>
</tr>
<tr>
<td>存储方式</td>
<td>只能保存ASCII</td>
<td>可保存任意数据</td>
</tr>
<tr>
<td>有效期</td>
<td>长时间保存</td>
<td>客户端关闭或session超时</td>
</tr>
<tr>
<td>存储大小</td>
<td>4K</td>
<td>无限制</td>
</tr>
</tbody></table>
<p><img src="C:\Users\赵四\AppData\Roaming\Typora\typora-user-images\image-20220228203313570.png" srcset="/img/loading.gif" lazyload alt="image-20220228203313570"></p>
<p>问题：</p>
<blockquote>
<ol>
<li>可能初次登录Session存储在服务器A，若再次登录在服务器B没有存储SessionID：使用共享Session，将用户Session使用统一缓存中间件管理</li>
</ol>
</blockquote>
</blockquote>
<h1 id="盗链"><a href="#盗链" class="headerlink" title="盗链"></a>盗链</h1><blockquote>
<p>通过超链接在本地页面展示其他服务器的资源，可以减轻自身服务器负担，获得浏览量</p>
<p>客户端向服务器请求资源时，为了减少网络带宽，提升响应时间，服务器一般不会一次将所有资源完整地传回给客户端。比如在请求一个网页时，首先会传回该网页的文本内容，当客户端浏览器在解析文本的过程中发现有图片存在时，会再次向服务器发起对该图片资源的请求，服务器将存储的图片资源再发送给客户端。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">![](<span class="hljs-link">http:www.baidu.com/imagepath/image.png</span>) <span class="hljs-emphasis">*可在本地服务器显示百度的图片*</span><br></code></pre></td></tr></table></figure>

<h2 id="防盗链"><a href="#防盗链" class="headerlink" title="防盗链"></a>防盗链</h2><blockquote>
<ol>
<li>检查请求头中referer中的URL与资源文件的的URL是否在同一域名下，若源显示页面不是响应页面，则阻止或返回指定的页面</li>
<li>使用登录验证，登录依赖于SesionID，而初次请求服务器返回的cookie不会存储在盗链域名下，所以造成请求资源时没有cookie，被视为未登录用户</li>
<li>使用POST；客户端浏览器请求资源时使用GET方法，所以将下载链接换成表单，资源URL放在隐藏文本框，用户提交表单时会先检查是否以POST方法提交</li>
</ol>
</blockquote>
</blockquote>
<h1 id="汇编"><a href="#汇编" class="headerlink" title="汇编"></a>汇编</h1><blockquote>
<p><img src="C:\Users\赵四\AppData\Roaming\Typora\typora-user-images\image-20220307141839819.png" srcset="/img/loading.gif" lazyload alt="image-20220307141839819"></p>
<p>RAM：可读可写，断电清空内容（内存）</p>
<p>ROM：只读，断电保留内容，一般存储BIOS</p>
</blockquote>
<h1 id="逆向"><a href="#逆向" class="headerlink" title="逆向"></a>逆向</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs assembly">push ebp    ;ebp寻址入口    整个寻址过程中ebp的值不变<br>DWORD PTR SS:[EBP-4]   	;形如这种表示对本地地址(内存)进行操作<br>CMP EAX,ESI  		;比较二者是否相等，为判断语句，其后跟跳转<br>JGE ;若结果为大于或等于则跳转<br>NEG ;取反 一般会产生借位 即C 1<br>SBB EDI EDI  ;用后者减去前者  该语句为0<br>XOR EAX EAX  ;异或，若二者相同则置零<br>SHR EAX 1	 ;右移一位，即除以二<br>SAR EAX 2 	 ;右移两位，即除以四<br>-1 反码为 ffffffff<br>TEXT EAX,EAX == CMP EAX 0   ;改变CF值<br>repne scas   ;确定字符串长度<br>ADC EBX,EBX 	;EBX+EBX+CF<br>RETN			;用栈中所保存的数据赋值给IP，跳转回来<br>NOP  		;no-op 90 90<br></code></pre></td></tr></table></figure>



<h1 id="UPX"><a href="#UPX" class="headerlink" title="UPX"></a>UPX</h1><blockquote>
<p>可执行文件压缩器  加壳即压缩 与之对应脱壳即解压缩</p>
<ul>
<li>一种保护程序：</li>
</ul>
<blockquote>
<p>保护正规文件，使之不易被修改破解</p>
<p>保护杀毒软件安装程序</p>
<p>病毒加壳使之难以攻破</p>
</blockquote>
<p>加壳后的程序可以运行，但需脱壳后才能查看源代码</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">upx -d <span class="hljs-built_in">PATH</span>.exe|dll #脱壳<br></code></pre></td></tr></table></figure>

<ul>
<li>dll 动态链接库</li>
</ul>
<blockquote>
<p>一些子程序的集合，以便主程序可以调用</p>
</blockquote>
</blockquote>
<h1 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h1><blockquote>
<p>Node.js runs single-threaded, non-blocking, asynchronous programming, which is very memory efficient.</p>
</blockquote>
<blockquote>
<ol>
<li>编写文件.js</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> http=<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br>http.<span class="hljs-title function_">createServer</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res</span>)&#123;<br>	res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>:<span class="hljs-string">&#x27;Text/html&#x27;</span>&#125;);<br>	res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;Hello World!&#x27;</span>);<br>&#125;).<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>);<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>在cmd中启动,此时电脑成为服务器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">C:\Users\Your Name&gt;node myfirst.js<br></code></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>使用自定义库 keyword<code>exports</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">exports</span>.<span class="hljs-property">myDateTime</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-title class_">Date</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>引用自定义库</p>
</blockquote>
<h1 id="web安全"><a href="#web安全" class="headerlink" title="web安全"></a>web安全</h1><blockquote>
<h2 id="用户越权"><a href="#用户越权" class="headerlink" title="用户越权"></a>用户越权</h2><blockquote>
<ul>
<li>漏洞成因：权限验证不严谨</li>
<li>分类：平行越权；垂直越权</li>
<li>防御方法：<code>order = 1 &amp; uid =  $_SESSION[uid]</code>;不要暴露连续的ID</li>
</ul>
</blockquote>
<h2 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h2><blockquote>
<p>成因：前端计算金额；金额未校验；未设置边界值</p>
<p>攻击：修改金额；修改数量；数据重放</p>
</blockquote>
<h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><blockquote>
<p>成因：浏览器操作当用户操作；表单接收未判断来源</p>
<p>防御：验证refer|token|图片验证码</p>
</blockquote>
<h2 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h2><blockquote>
<p>成因：参数改变了SQL结构</p>
<p>攻击：回显注入|报错注入|盲注</p>
<p>防御：转换参数类型，将数据代码分离；预编译SQL语句；分析数据库执行日志查看是否有异常查询（取模操作）</p>
</blockquote>
<h2 id="XSS跨站"><a href="#XSS跨站" class="headerlink" title="XSS跨站"></a>XSS跨站</h2><blockquote>
<p>成因：将输入的数据当作代码执行</p>
<p>类型：反射型；存储型；DOM型</p>
<p>防御：过滤HTML标签；转义实体符号；设置HttpOnly(防止cookie窃取)</p>
</blockquote>
</blockquote>
<h1 id="Chrome密码存储"><a href="#Chrome密码存储" class="headerlink" title="Chrome密码存储"></a>Chrome密码存储</h1><blockquote>
<ul>
<li><p><code>chrome://settings/passwords</code></p>
<blockquote>
<p>chrome使用Windows的API，存储电脑账户的密码，用于验证是否为对应用户</p>
<p>账户密码为<strong>常量</strong></p>
</blockquote>
</li>
<li><pre><code class="cmd">#网站账户存储文件位置
C://Users/赵四/AppData/Local/Google/Chrome/User Data/Default/Login Date	
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><br>&gt; chrome使用`CryptProtectData()`，`CryptUnprotectData()`加解密，其中以**用户登录证书**作为token<br><br>+ SQLite3存储密码库<br><br><br><br><span class="hljs-meta"># PHP</span><br><br>$variableName<br><br><span class="hljs-meta">## 弱类型安全</span><br><br>```php<br><span class="hljs-comment">//以下值相等</span><br><span class="hljs-string">&quot;==0==false==NULL</span><br>&#x27;123&#x27;==<span class="hljs-number">123</span><br>&#x27;abc&#x27;==<span class="hljs-number">0</span><br>&#x27;123a&#x27;==<span class="hljs-number">123</span><br>&#x27;0x01&#x27;==<span class="hljs-number">1</span><br>&#x27;0e<span class="hljs-number">1234</span>5&#x27;=&#x27;0e<span class="hljs-number">5432</span>1&#x27;<br>[false]==[<span class="hljs-number">0</span>]==[<span class="hljs-literal">NULL</span>]==[\<span class="hljs-string">&quot;]</span><br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>可使用<code>==</code>或<code>===</code>进行相等判断，前者自动转换类型</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-variable">$input</span>=<span class="hljs-string">&#x27;123c&#x27;</span>;<br>	<span class="hljs-keyword">if</span>(<span class="hljs-variable">$input</span>==<span class="hljs-number">1</span>)&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;flag&#x27;</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span>  <span class="hljs-comment">//打印flag</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="超级全局变量"><a href="#超级全局变量" class="headerlink" title="超级全局变量"></a>超级全局变量</h2><ul>
<li><p>$GLOBALS[“variable”]  </p>
<blockquote>
<p>包含全部变量的全局组合数组，变量名即数组的键，在代码任意作用域均可访问</p>
</blockquote>
</li>
<li><p>_SERVER</p>
<blockquote>
<p>包含WEB交互的相关信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;SERVER_ADDR&#x27;</span>]	<span class="hljs-comment">//脚本所在服务器IP</span><br><span class="hljs-variable">$_SERVER</span>[<span class="hljs-string">&#x27;REMOTE_ADDR&#x27;</span>]	<span class="hljs-comment">//浏览页面的用户IP</span><br></code></pre></td></tr></table></figure>


</blockquote>
</li>
<li><p><code>bool is_numeric($var)</code> 检测变量是否为数字|数字字符串 可隐式转化H</p>
</li>
<li><p><code>bool isset($val)</code> 检测变量是否设置值且!NULL</p>
</li>
<li><p><code>die(message)</code> 输出信息并退出脚本</p>
</li>
<li><p>MD5</p>
</li>
</ul>
<blockquote>
<p>以下值MD5加密后以0E开头,可用于本身不等但MD5相等：</p>
<ul>
<li>QNKCDZO</li>
<li>240610708</li>
<li>s214587387a</li>
<li>s878926199a</li>
<li>s155964671a</li>
</ul>
</blockquote>
</blockquote>
<h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><h2 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h2><blockquote>
<p>大小规则：9&lt;Z&lt;z</p>
<p>0–48;A–65;a–97</p>
<p>汉字由两个ASCII码组成</p>
</blockquote>
<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><blockquote>
<p><code>scheme:[//[user[:password]@]host[:port]][/path][?query][#fragment]</code></p>
<p><code>[协议类型]://[用户名[:密码]]@[服务器地址]:[端口号]/[资源层级UNIX文件路径][文件名]?[查询]#[片段ID]</code></p>
<ul>
<li>常见编码 URL编码均以<code>%</code>开头</li>
</ul>
<blockquote>
<p><code>Space</code>%20 <code>!</code>%21 <code>&quot;</code>%22 <code>#</code>%23 <code>%</code>%25 <code>&amp;</code>%26 <code>&lt;</code>%3C <code>=</code>%3D <code>&gt;</code>%3El</p>
</blockquote>
<ul>
<li>一个汉族使用三个URL码</li>
</ul>
</blockquote>
<h2 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h2><blockquote>
<p>万国码 ，为每一个字符设定了统一且唯一的二进制编码 <code>\u</code></p>
<blockquote>
<p><code>utf-8</code>:占用1~4字节，对不同范围字符使用不同长度的编码</p>
<p><code>utf-16</code>:占用2~4字节，以16位无符号整数为单位</p>
<p><code>utf-32</code>:占用4字节，以32位无符号整数为单位</p>
</blockquote>
</blockquote>
<h2 id="Base编码"><a href="#Base编码" class="headerlink" title="Base编码"></a>Base编码</h2><h1 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h1><blockquote>
<p>限制来自不同源的的文档或脚本对当前域内容进行读取操作</p>
<p>浏览器将不同的根域名，子域名，端口和协议认为是不同的域</p>
</blockquote>
<h1 id="跨域访问"><a href="#跨域访问" class="headerlink" title="跨域访问"></a>跨域访问</h1><blockquote>
<ul>
<li>一般允许跨域写：链接，重定向，表单提交，资源嵌入</li>
</ul>
<h2 id="跨域资源嵌入"><a href="#跨域资源嵌入" class="headerlink" title="跨域资源嵌入"></a>跨域资源嵌入</h2><blockquote>
<ul>
<li><p><code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code> –标签嵌入跨域脚本</p>
<p>src为跨域请求URL，语法错误只能在同源脚本捕捉</p>
</li>
<li><p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code> –标签嵌入css</p>
<p>href为跨域请求URL，需设置正确的<code>Content-Type</code></p>
</li>
<li><p><code>&lt;img&gt;</code> <code>&lt;video&gt;</code> <code>audio</code> –嵌入多媒体资源</p>
</li>
<li><p><code>&lt;object&gt;</code> <code>&lt;embed&gt;</code> <code>&lt;applet&gt;</code> 插件</p>
</li>
<li><p>@font-face  跨域字体</p>
</li>
<li><p><code>&lt;frame&gt;</code> <code>&lt;iframe&gt;</code> 载入的任何资源 –可使用X-Frame-Options阻止跨域交互</p>
<blockquote>
<p>点击劫持</p>
<p>通过叠加图层，隐藏真实链接，在其上覆盖图像假链接，混淆用户</p>
<p><img src="C:\Users\赵四\AppData\Roaming\Typora\typora-user-images\image-20220326172616950.png" srcset="/img/loading.gif" lazyload alt="image-20220326172616950"></p>
<ul>
<li><p>防御机制：</p>
<blockquote>
<ul>
<li><p>X-Frame-Options:浏览器拒绝加载任何iframe页面（部分浏览器支持)</p>
</li>
<li><p>Content Security Policy:网页安全政策,一种白名单制度</p>
</li>
<li><p>NoScript：火狐扩展</p>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
<h2 id="跨源脚本API访问"><a href="#跨源脚本API访问" class="headerlink" title="跨源脚本API访问"></a>跨源脚本API访问</h2><blockquote>
<p>JSP一些API支持文档间相互引用，当源不同时，会对<code>window</code>和<code>location</code>对象添加限制</p>
<ul>
<li><p>允许跨源访问的方法:</p>
<blockquote>
<p>window.blur</p>
<p>window.close</p>
<p>window.focus</p>
<p>window.postMessage</p>
</blockquote>
</li>
<li><p>允许跨源访问的属性(大多只允许读):</p>
</li>
</ul>
<blockquote>
<p>window.closed</p>
<p>window.frames</p>
<p>window.length</p>
<p>window.location  允许读<code>alert(location)</code>写<code>location.assign(&#39;URL&#39;)</code> </p>
<p>window.opener</p>
<p>window.parent</p>
<p>window.self</p>
<p>window.top</p>
<p>window.window</p>
</blockquote>
</blockquote>
<ul>
<li>不允许跨域读</li>
</ul>
<h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><blockquote>
<p>使用<strong>方法回调</strong>，即引入目标网页的JS，其JS也可以反作用于源页面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-meta">header(&#x27;Content-type: application/json&#x27;);</span><br><span class="hljs-meta">//获取回调函数名</span><br><span class="hljs-meta">$jsoncallback = htmlspecialchars($_REQUEST [&#x27;jsoncallback&#x27;]);</span><br><span class="hljs-meta">//json数据</span><br><span class="hljs-meta">$json_data = &#x27;[&quot;lady&quot;,&quot;killer9&quot;]&#x27;;</span><br><span class="hljs-meta">//输出jsonp格式的数据</span><br><span class="hljs-meta">echo $jsoncallback . &quot;(&quot; . $json_data . &quot;)&quot;;</span><br><span class="hljs-meta">?&gt;</span><br>// 服务器<br>// 客户端   <br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSONP 实例<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;divCustomers&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">callbackFunction</span>(<span class="hljs-params">result</span>)</span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript"><span class="hljs-keyword">var</span> html = <span class="hljs-string">&#x27;&lt;ul&gt;&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; result.<span class="hljs-property">length</span>; i++)</span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript">html += <span class="hljs-string">&#x27;&lt;li&gt;&#x27;</span> + result[i] + <span class="hljs-string">&#x27;&lt;/li&gt;&#x27;</span>;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript">html += <span class="hljs-string">&#x27;&lt;/ul&gt;&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;divCustomers&#x27;</span>).<span class="hljs-property">innerHTML</span> = html;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://localhost/jsonp.php?jsoncallback=callbackFunction&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>安全问题</li>
</ul>
<blockquote>
<ul>
<li>对传入&#x2F;传回参数没有做校验就直接返回，会造成XSS</li>
<li>未做referer或token校验就给出数据，可能造成数据泄露</li>
</ul>
</blockquote>
<ul>
<li><p>防御</p>
<blockquote>
<p>检测refer是否安全</p>
<blockquote>
<p>从URL中获取<code>host</code>，判断其是否在允许域名列表中</p>
<ul>
<li>验证方法 （以<code>www.target.com</code>为保护域名）</li>
</ul>
<blockquote>
<p>referer.indexof(“target.com”)!&#x3D;-1</p>
<p>referer.match(&#x2F;^http(s?)://.+\.target\.com/&#x2F;i)</p>
<p>referer.host.endwith(“target.com”)</p>
<p>referer.host.indexof(“target.com”)!&#x3D;-1</p>
<p>referer.host.match(&#x2F;^.*.target.com$&#x2F;)</p>
<p>referer.host.endwith(“.target.com”)</p>
</blockquote>
<ul>
<li>以下攻击方法均存在漏洞</li>
</ul>
<blockquote>
<p><code>http://www.attack.com/?id=target.com</code></p>
<p><code>http://www.attack.com/?idtarget.com/aaa</code></p>
<p><code>http://www.attacktarget.com/xxx</code></p>
<p><code>http://www.target.com.attack.com/xxx</code></p>
</blockquote>
</blockquote>
<p>使用token校验隐藏接口</p>
</blockquote>
</li>
<li><p>若检测条件为<code>若referer不为空,则必须来自允许的域名</code>，则可以使referer为空</p>
</li>
</ul>
</blockquote>
<h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h2><blockquote>
<p>跨域资源共享：允许当前域的资源被其他域的脚本请求访问的机制</p>
</blockquote>
</blockquote>
<h1 id="SQL注入-1"><a href="#SQL注入-1" class="headerlink" title="SQL注入"></a>SQL注入</h1><blockquote>
<ul>
<li>生成原因</li>
</ul>
<blockquote>
<p>用户控制数据输入</p>
<p>要运行的代码拼接了用户输入运行</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20201009142512180.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xhZHlfa2lsbGVyOQ==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li><strong>information_schema 包含数据库信息</strong></li>
</ul>
<blockquote>
<ul>
<li><strong>SCHEMATA表存储数据库名，字段名<code>SCHEMA_NAME</code></strong></li>
<li><strong>TABLES表存储表名及表所属数据库，字段为<code>TABLE_NAME</code> <code>TABLE_SCHEMA</code></strong></li>
<li><strong>COLUMNS表存储列名及所属数据库名、所属表名，字段为<code>COLUMN_NAME</code> <code>TABLE_SCHEMA</code> <code>TABLE_NAME</code></strong></li>
</ul>
</blockquote>
<ul>
<li>MySQL常用函数</li>
</ul>
<blockquote>
<ul>
<li><p>返回当前使用数据的用户：<code>user()</code> <code>system_user()</code> <code>current_user()</code> <code>session_user()</code></p>
</li>
<li><p>返回当前数据库版本：<code>version()</code> <code>@@version</code></p>
</li>
<li><p>返回当前使用数据库：<code>database()</code></p>
</li>
<li><p>返回当前数据库所在位置：<code>@@datadir</code></p>
</li>
<li><p>返回当前操作系统版本：<code>@@version_compile_os</code></p>
</li>
<li><p>将多个字符串连成一个字符串：<code>concat(s1,s2,...)</code></p>
</li>
<li><p><strong>将多个字符串拼接成一行：group_concat()</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">group_concat(<br>[<span class="hljs-keyword">DISTINCT</span>]要连接的字段<br>[<span class="hljs-keyword">Order</span> <span class="hljs-keyword">BY</span> 排序字段 <span class="hljs-keyword">ASC</span><span class="hljs-operator">/</span><span class="hljs-keyword">DESC</span>]<br>[Separator <span class="hljs-string">&#x27;分隔符&#x27;</span>]<br>)<br>#主要处理一对多的查询结果，通常与<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span>结合使用<br>    <br>d<span class="hljs-string">&#x27; order by 1# #从1开始直到异常报错 判断字段数</span><br><span class="hljs-string">d&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,database() <span class="hljs-keyword">from</span> information_schema.schemata# 若字段数为<span class="hljs-number">3</span>，获取当前数据库名<br>    <br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h2><blockquote>
<p><code>length(s)</code>：返回目标字符串的长度</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> length(database())  #返回当前数据库名称长度<br>#无法判断字段数时使用  需知道一个数据<br>vince<span class="hljs-string">&#x27; and lenght(database())=7#  若正确则返回预期结果，用于判断数据库名</span><br></code></pre></td></tr></table></figure>

<p><code>substr()</code>：截取字符串</p>
<p><code>ascii(s)</code>：返回字符串s首字符的ASCII，与<code>char()</code>返回ASCII对应字符一起使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-type">char</span>(ascii(substr(database(),<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)))<br>vince<span class="hljs-string">&#x27; and char(ascii(substr(database(),1,1)))=&#x27;</span>a<span class="hljs-string">&#x27;# 一般通过脚本完成</span><br></code></pre></td></tr></table></figure>
</blockquote>
<h2 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h2><blockquote>
<p><code>UPDATEXML (XML_document,XPath_string,new_value)</code></p>
<p><code>XML_document</code>：String格式，为XML文档对象的名称，一般写1</p>
<p><code>XPath_string</code>：写sql语句查询表名，通过报错信息显示</p>
<p><code>new_value</code>：替换查询到符合条件的数据，一般写1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">d<span class="hljs-string">&#x27; and updatexml (1,concat(0x7e,(select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;</span>users<span class="hljs-string">&#x27; limit 3,1),0x7e),1)#</span><br></code></pre></td></tr></table></figure>


</blockquote>
<h2 id="时间盲注"><a href="#时间盲注" class="headerlink" title="时间盲注"></a>时间盲注</h2><blockquote>
<p><code>sleep(N)</code>：运行N秒</p>
<p><code>IF(expr,v1,v2)</code>：表达式成立返回v1,否则返回v2</p>
</blockquote>
<h2 id="绕过"><a href="#绕过" class="headerlink" title="绕过"></a>绕过</h2><blockquote>
<ol>
<li><p>大小写绕过：sql对一些关键词未区分大小写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">UniOn</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span><br></code></pre></td></tr></table></figure>


</li>
<li><p>双写绕过：后端检测关键词并删除</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">selselectect <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span><br></code></pre></td></tr></table></figure>


</li>
<li><p>内联注释：mysql扩展，在注释中加<code>！</code> ,注释中的语句被执行</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">and</span> <span class="hljs-comment">/*!select * from user*/</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>注释符绕过：注释符不影响语句连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">sel<span class="hljs-comment">/**/</span>ect <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>or&#x2F;and绕过</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">#使用逻辑符号代替  <span class="hljs-keyword">and</span> (<span class="hljs-operator">&amp;&amp;</span>)  <span class="hljs-keyword">or</span> (<span class="hljs-operator">||</span>)<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal<span class="hljs-operator">&gt;</span><span class="hljs-number">500</span> <span class="hljs-operator">&amp;&amp;</span> sal<span class="hljs-operator">&lt;</span><span class="hljs-number">300</span>;<br></code></pre></td></tr></table></figure>
</li>
<li><p>空格绕过</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql">#若空格被过滤 可尝试使用 <span class="hljs-operator">%</span><span class="hljs-number">0</span>a <span class="hljs-operator">%</span>b <span class="hljs-operator">%</span><span class="hljs-number">0</span>c <span class="hljs-operator">%</span><span class="hljs-number">0</span>d <span class="hljs-operator">%</span><span class="hljs-number">09</span> <span class="hljs-operator">%</span>a0 <span class="hljs-comment">/**/</span> ()<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span><span class="hljs-comment">/**/</span>emp <span class="hljs-keyword">where</span>(sal)<span class="hljs-operator">&gt;</span> <span class="hljs-number">500</span> <span class="hljs-operator">&amp;&amp;</span> sal <span class="hljs-operator">&lt;</span><span class="hljs-number">3000</span><br>#equivalent<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> <span class="hljs-number">500</span> <span class="hljs-operator">&amp;&amp;</span> sal <span class="hljs-operator">&lt;</span><span class="hljs-number">3000</span><br></code></pre></td></tr></table></figure></li>
</ol>
</blockquote>
</blockquote>
</blockquote>
<h1 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h1><blockquote>
<p>通过php的输出函数将JSP代码输出到html，通过本地浏览器执行</p>
<p>关键：寻找未过滤的输出参数：</p>
<blockquote>
<p>echo,printf,print,print_f,sprintf,die,var-dump,var_export</p>
</blockquote>
<h2 id="反射型XSS"><a href="#反射型XSS" class="headerlink" title="反射型XSS"></a>反射型XSS</h2><p><img src="C:\Users\赵四\AppData\Roaming\Typora\typora-user-images\image-20220423200727079.png" srcset="/img/loading.gif" lazyload alt="image-20220423200727079"></p>
<p>xss防范：对输入进行过滤。对输入内容转义</p>
</blockquote>
<h1 id="CSRF-1"><a href="#CSRF-1" class="headerlink" title="CSRF"></a>CSRF</h1><blockquote>
<p>+ </p>
</blockquote>
<h1 id="Peices"><a href="#Peices" class="headerlink" title="Peices"></a>Peices</h1><ul>
<li>Esc可中断页面脚本操作</li>
<li></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>CTF</div>
      <div>http://example.com/2023/01/08/CTF/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>rarekiwi</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>January 8, 2023</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/01/08/first-thing-first/" title="first thing first">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">first thing first</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/01/08/Love-once-begin-will-never-end/" title="Love once begin will never end.">
                        <span class="hidden-mobile">Love once begin will never end.</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
